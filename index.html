<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyBanana AI | 剥离噪音，提取纯粹</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --discord-dark: #23272A; /* Discord 主背景色 */
            --discord-purple: #7289DA; /* Discord 紫色 */
            --discord-light-grey: #99AAB5; /* Discord 文字灰 */
            --banana-amber: #f39c12; /* 香蕉琥珀色 */
            --banana-gold: #f1c40f; /* 香蕉金色 */
            --banana-orange: #e67e22; /* 香蕉橘色 */
        }

        body {
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background-color: var(--discord-dark);
            color: var(--discord-light-grey);
            font-family: 'Inter', "PingFang SC", "Microsoft YaHei", sans-serif;
            overflow: hidden; /* 防止滚动条 */
            position: relative; /* 用于背景效果 */
        }

        /* ----------------------- Discord 风格背景颗粒感 ----------------------- */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, rgba(var(--discord-purple), 0.08) 0%, transparent 70%);
            animation: pulseBg 20s infinite alternate;
            z-index: -1;
        }

        @keyframes pulseBg {
            0% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); opacity: 0.8; }
        }

        /* ----------------------- 琥珀核心流体 ----------------------- */
        .banana-core {
            width: 280px;
            height: 280px;
            background: linear-gradient(45deg, var(--banana-amber), var(--banana-gold), var(--banana-orange));
            border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
            box-shadow: 0 0 70px rgba(var(--discord-purple), 0.4); /* Discord 紫色光晕 */
            transition: all 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94); /* 更柔和的过渡 */
            animation: morph 8s ease-in-out infinite, glowPurple 4s ease-in-out infinite alternate;
            cursor: pointer;
            border: 2px solid rgba(var(--discord-purple), 0.6); /* 紫色边框 */
        }

        .banana-core:hover {
            transform: scale(1.08);
            box-shadow: 0 0 100px rgba(var(--discord-purple), 0.6);
        }

        .active {
            transform: scale(1.3); /* 放大更多 */
            filter: brightness(1.1); /* 亮度略降，更沉稳 */
            box-shadow: 0 0 150px rgba(var(--discord-purple), 0.8); /* 更强的紫色冲击 */
            border-color: var(--banana-gold); /* 激活时边框变回金色 */
        }

        @keyframes morph {
            0%, 100% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }
            50% { border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%; }
        }

        @keyframes glowPurple {
            0% { box-shadow: 0 0 70px rgba(114, 137, 218, 0.4); }
            100% { box-shadow: 0 0 90px rgba(114, 137, 218, 0.6); }
        }

        /* ----------------------- 状态信息区 ----------------------- */
        #status-container {
            margin-top: 60px;
            text-align: center;
            max-width: 80%;
            min-height: 40px; /* 保证文字区域高度，避免抖动 */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #status-text {
            font-size: 1.25rem; /* 字体略大 */
            font-weight: 400;
            letter-spacing: 1.5px;
            color: #E0E0E0; /* 亮一点的文字 */
            transition: opacity 0.4s ease-in-out;
        }

        /* ----------------------- 底部链接区 ----------------------- */
        .footer-links {
            position: fixed;
            bottom: 40px;
            display: flex;
            gap: 40px;
            opacity: 0.7;
            transition: opacity 0.3s ease;
            font-size: 1rem;
        }

        .footer-links:hover {
            opacity: 1;
        }

        .footer-links a {
            color: var(--discord-light-grey);
            text-decoration: none;
            padding: 8px 12px;
            border-radius: 6px;
            background-color: rgba(var(--discord-purple), 0.15); /* 微弱的紫色背景 */
            transition: all 0.2s ease;
        }

        .footer-links a:hover {
            background-color: rgba(var(--discord-purple), 0.3);
            color: var(--discord-purple);
            text-shadow: 0 0 8px rgba(var(--discord-purple), 0.5);
        }

        /* ----------------------- 响应式优化 ----------------------- */
        @media (max-width: 768px) {
            .banana-core { width: 220px; height: 220px; }
            #status-text { font-size: 1.1rem; }
            .footer-links { 
                flex-direction: column; 
                align-items: center; 
                gap: 20px; 
                bottom: 25px; 
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>

    <div class="banana-core" id="ball"></div>

    <div id="status-container">
        <div id="status-text">正在深邃的链海中，捕获第一个成熟信号...</div>
    </div>

    <div class="footer-links">
        <a href="mailto:cgcisco@gmail.com">Contact: cgcisco@gmail.com</a>
        <a href="https://discord.gg/你的邀请码" target="_blank">Join Discord Community</a>
    </div>

    <script>
        let lastSig = "";
        const ball = document.getElementById('ball');
        const statusText = document.getElementById('status-text');

        async function checkUpdate() {
            try {
                // 读取 Python 生成的 JSON 文件 (增加参数防止浏览器缓存)
                const response = await fetch('banana_status.json?t=' + Date.now());
                const data = await response.json();

                if (data.sig && data.sig !== lastSig) { // 确保 sig 存在且有变化
                    lastSig = data.sig;
                    triggerEffect(data);
                }
            } catch (e) {
                // 如果文件未生成或读取失败，保持默认状态
                // console.error("Error fetching banana_status.json:", e); 
            }
        }

        function triggerEffect(data) {
            statusText.style.opacity = 0; // 淡出旧文本
            setTimeout(() => {
                statusText.innerText = data.taste;
                statusText.style.opacity = 1; // 淡入新文本
            }, 400); // 与 CSS 过渡时间同步

            ball.classList.add('active');
            setTimeout(() => ball.classList.remove('active'), 800); // 激活效果持续 800ms
        }

        setInterval(checkUpdate, 2500); // 每 2.5 秒检查一次，减少本地文件读取压力
    </script>
</body>
</html>